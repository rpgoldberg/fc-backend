# Environment
NODE_ENV=development

# Server
PORT=5080

# Database - Local MongoDB (default for easy local development)
MONGODB_URI=mongodb://localhost:27017/figure-collecting-dev

# Database - MongoDB Atlas (alternative for cloud testing)
# Uncomment and replace placeholders to use Atlas instead of local MongoDB
# MONGODB_URI=mongodb+srv://YOUR_USERNAME:YOUR_PASSWORD@YOUR_CLUSTER.mongodb.net/figure-collecting?retryWrites=true&w=majority

# JWT Secrets - REQUIRED
# Generate secure random secrets using: openssl rand -base64 32
# Or run ./setup-local-env.sh to auto-generate
JWT_SECRET=your_jwt_secret_here_replace_with_generated_secret
JWT_REFRESH_SECRET=your_refresh_secret_here_replace_with_generated_secret

# JWT Configuration
ACCESS_TOKEN_EXPIRY=15m

# Refresh Token Rotation (optional security feature)
# Enable this to rotate refresh tokens on each use (recommended for production)
# ROTATE_REFRESH_TOKENS=true

# Services
# Local development
SCRAPER_SERVICE_URL=http://localhost:3080
# Docker/Coolify deployment (must match service/network name)
# SCRAPER_SERVICE_URL=http://scraper:3050
# SCRAPER_SERVICE_URL=http://scraper-dev:3090

# Admin Bootstrap Token (optional)
# Used for one-time admin privilege grant via POST /admin/bootstrap
# Generate a secure random token: openssl rand -base64 32
# After granting admin, this can be removed or changed
# ADMIN_BOOTSTRAP_TOKEN=your_bootstrap_token_here

# MongoDB Atlas Search (optional)
# Enable Atlas Search features for environments connected to Atlas with search indexes
# Set to 'true' on any environment with Atlas Search indexes configured
# Regex fallback is used when disabled or when TEST_MODE=memory
# ENABLE_ATLAS_SEARCH=true

# Debug Logging (optional)
# DEBUG=true enables all application loggers (AUTH, SYNC, MAIN, etc.)
# DEBUG_LEVEL=verbose|info|warn|error (default: info in development, error in production)
# DEBUG_MODULES=AUTH,SYNC,MAIN (enable specific modules only, or * for all)
# DEBUG=true
# DEBUG_LEVEL=info
# DEBUG_MODULES=*
# SERVICE_AUTH_TOKEN_DEBUG=false

# ═══════════════════════════════════════════════
# Auth Modernization (Email Verification, 2FA, Passkeys)
# ═══════════════════════════════════════════════

# Email (Resend) — leave RESEND_API_KEY empty for console fallback in dev
# RESEND_API_KEY=re_xxxxx
EMAIL_FROM=noreply@figurecollecting.com
FRONTEND_URL=http://localhost:5081
EMAIL_VERIFICATION_EXPIRY_HOURS=24
PASSWORD_RESET_EXPIRY_MINUTES=30
EMAIL_VERIFICATION_GRACE_DAYS=7

# TOTP encryption — generate with: openssl rand -hex 32
# TOTP_ENCRYPTION_KEY=<64-char-hex-string>

# WebAuthn / Passkeys
WEBAUTHN_RP_NAME=FigureCollecting
WEBAUTHN_RP_ID=localhost
WEBAUTHN_ORIGIN=http://localhost:5081
